# =================================================================================
# DEVELOPMENT ENVIRONMENT CONFIGURATION - Updated for Task 3.12
# =================================================================================
# UYARI: Bu dosya Task 3.12 dev-mode toggles ile güncellenmiştir
# Production ortamında .env.prod.task3.12.example dosyasını referans alın
# =================================================================================

# CORE ENVIRONMENT CONFIGURATION (Task 3.12)
ENV=development
DEV_MODE=true
DEBUG=true
PRODUCTION_HARDENING_ENABLED=false
SECURITY_LEVEL=minimal

# DEVELOPMENT MODE FEATURES (Task 3.12)
DEV_AUTH_BYPASS=true
DEV_DETAILED_ERRORS=true
DEV_RESPONSE_ANNOTATIONS=true
DEV_MOCK_EXTERNAL_SERVICES=false
CSRF_DEV_LOCALHOST_BYPASS=true

# PRODUCTION HARDENING (Disabled in dev)
PROD_FORCE_HTTPS=false
PROD_MASK_ERROR_DETAILS=false
PROD_STRICT_COOKIES=false
PROD_DISABLE_DEBUG_ENDPOINTS=false

# GENERAL APPLICATION SETTINGS
API_PORT=8000
WEB_PORT=3000

# VERITABANI KONFIGURASYONU
# PostgreSQL veritabanı ayarları
POSTGRES_USER=freecad_dev
POSTGRES_PASSWORD=dev_password_changeme
POSTGRES_DB=freecad_dev
POSTGRES_PORT=5432
DATABASE_URL=postgresql+psycopg2://freecad_dev:dev_password_changeme@postgres:5432/freecad_dev

# REDIS CACHE & QUEUE
# Redis önbellek ve kuyruk sistemi
REDIS_URL=redis://redis:6379/0
REDIS_PORT=6379

# DOSYA DEPOLAMA (MinIO/S3)
# Object storage için MinIO (geliştirme) veya S3 (production)
MINIO_ROOT_USER=dev_minioadmin
MINIO_ROOT_PASSWORD=dev_minioadmin_password
S3_BUCKET_NAME=dev-artifacts
AWS_ACCESS_KEY_ID=dev_minioadmin
AWS_SECRET_ACCESS_KEY=dev_minioadmin_password
AWS_S3_ENDPOINT=http://minio:9000
AWS_S3_REGION=us-east-1

# MONİTORİNG & GÖZLEMLEMLİLLIK (Enhanced for Task 4.10)
# OpenTelemetry comprehensive observability configuration
OTEL_EXPORTER_OTLP_ENDPOINT=http://otel-collector:4317
OTEL_SERVICE_NAME=freecad-api-dev
OTEL_SERVICE_VERSION=1.0.0
OTEL_SERVICE_NAMESPACE=freecad-production
OTEL_DEPLOYMENT_ENVIRONMENT=development
OTEL_RESOURCE_ATTRIBUTES=service.name=freecad-api-dev,service.version=1.0.0,deployment.environment=development,compliance.regulation=KVKV,compliance.data_locality=Turkey

# Telemetry sampling and performance
OTEL_TRACE_SAMPLER=always_on  # always_on for dev, ratio_based for prod
OTEL_TRACE_SAMPLER_RATIO=1.0  # Sampling ratio (1.0 = 100% in dev, 0.1 = 10% in prod)
OTEL_EXPORTER_INSECURE=true   # Set to false in production to enable TLS
OTEL_METRICS_ENABLED=true
OTEL_LOGS_ENABLED=true

# Sentry error tracking
SENTRY_DSN=
SENTRY_TRACES_SAMPLE_RATE=1.0  # 100% in dev, lower in prod
SENTRY_PROFILES_SAMPLE_RATE=1.0

# Grafana Admin Kullanıcısı (sadece geliştirme)
GF_SECURITY_ADMIN_USER=admin
GF_SECURITY_ADMIN_PASSWORD=dev_admin_password

# ULTRA ENTERPRISE OBSERVABILITY (Task 4.10)
# Comprehensive audit trail and compliance logging
AUDIT_LOG_ENABLED=true
AUDIT_LOG_RETENTION_DAYS=2555  # 7 years for critical events
AUDIT_CHAIN_VERIFICATION_ENABLED=true
PII_REDACTION_ENABLED=true  # Default to true for security (can be set to false for dev debugging)
KVKV_COMPLIANCE_ENABLED=true
FINANCIAL_AUDIT_ENABLED=true

# Structured logging configuration
LOG_LEVEL=INFO
LOG_FORMAT=json  # json or plain
LOG_CORRELATION_ENABLED=true
LOG_PERFORMANCE_METRICS_ENABLED=true
LOG_FILE_PATH=./logs/freecad-api-dev.log
LOG_FILE_ENABLED=false  # Disable file logging in dev
LOG_TURKISH_MESSAGES_ENABLED=true

# Metrics configuration
METRICS_ENABLED=true
METRICS_EXPORT_INTERVAL_SECONDS=60
METRICS_LICENSE_TRACKING_ENABLED=true
METRICS_PAYMENT_TRACKING_ENABLED=true
METRICS_NOTIFICATION_TRACKING_ENABLED=true
METRICS_BUSINESS_KPI_ENABLED=true

# Request correlation and tracing
CORRELATION_HEADER_NAME=X-Correlation-ID
CORRELATION_GENERATE_IF_MISSING=true
CORRELATION_PROPAGATION_ENABLED=true
REQUEST_TRACING_ENABLED=true
SPAN_ATTRIBUTES_ENABLED=true

# GÜVENLİK AYARLARI
# JWT token'ları için gizli anahtar - PRODUCTION'DA MUTLAKA DEĞİŞTİRİN
SECRET_KEY=dev-secret-key-change-in-production-minimum-32-chars
ACCESS_TOKEN_EXPIRE_MINUTES=30
REFRESH_TOKEN_EXPIRE_MINUTES=43200

# ULTRA ENTERPRISE SECURITY (Task 3.10)
# Gelişmiş güvenlik başlıkları ve input doğrulama ayarları
SECURITY_CSP_ENABLED=true
SECURITY_HSTS_ENABLED=true
SECURITY_ENVIRONMENT=development
SECURITY_CSP_REPORT_URI=/api/security/csp-report
SECURITY_INPUT_VALIDATION_ENABLED=true
SECURITY_XSS_DETECTION_ENABLED=true

# CORS CONFIGURATION (Ultra-Enterprise)
# Frontend ve güvenlik için CORS ayarları (production'da domaini değiştirin)
CORS_ALLOWED_ORIGINS=http://localhost:3000
CORS_ALLOW_CREDENTIALS=true
CORS_ALLOWED_METHODS=GET,POST,PUT,DELETE,PATCH,OPTIONS
CORS_ALLOWED_HEADERS=*
CORS_EXPOSE_HEADERS=X-Correlation-ID,X-Session-ID,X-KVKV-Compliant,X-Rate-Limit-Remaining,X-Rate-Limit-Reset
CORS_MAX_AGE=600

# GOOGLE OAUTH2/OIDC AUTHENTICATION (Task 3.5)
# Google OAuth kimlik doğrulama ayarları
GOOGLE_OAUTH_ENABLED=true
GOOGLE_CLIENT_ID=your-google-client-id.apps.googleusercontent.com
GOOGLE_CLIENT_SECRET=your-google-client-secret
GOOGLE_DISCOVERY_URL=https://accounts.google.com/.well-known/openid-configuration
OAUTH_STATE_EXPIRE_MINUTES=15
OAUTH_PKCE_VERIFIER_EXPIRE_MINUTES=15
OAUTH_CALLBACK_TIMEOUT_SECONDS=30

# FREECAD KONFİGÜRASYONU
# FreeCAD binary path ve ayarları
FREECADCMD_PATH=
FREECAD_ASM4_REQUIRED=true
FREECAD_TIMEOUT_SECONDS=1200

# YAPAY ZEKA ENTEGRASYONU
# OpenAI API anahtarı - Gerçek anahtar kullanmayın, test için mock kullanın
OPENAI_API_KEY=your-openai-api-key-here
# Azure OpenAI ayarları (isteğe bağlı)
AZURE_OPENAI_ENDPOINT=
AZURE_OPENAI_API_KEY=
AZURE_OPENAI_API_VERSION=2024-06-01

# MODEL YÖNETİMİ
MODEL_POLICY=quality_first
DEFAULT_MODEL=gpt-4o-mini
FALLBACK_MODEL=gpt-4o-mini
ALLOWED_MODELS=gpt-4o-mini,gpt-4o,o1-preview,o1-mini

# GOOGLE OAUTH (OIDC)
# Google OAuth kimlik doğrulama için
GOOGLE_CLIENT_ID=your-google-client-id.apps.googleusercontent.com
GOOGLE_CLIENT_SECRET=GOCSPX-your-google-client-secret

# BRANDING & UI
# Marka ve arayüz kişiselleştirmesi
BRAND_NAME=CNC AI Suite Dev
BRAND_LOGO_PATH=
PDF_MAX_MB=20
PUBLIC_WEB_BASE_URL=http://localhost:3000

# TOOLBITS VE DATA
# Takım uçları ve kesme verileri path'i
TOOLBITS_ROOT=./data/toolbits

# NEXT.JS FRONTEND AYARLARI
NODE_ENV=development
NEXT_PUBLIC_API_BASE_URL=http://localhost:8000
NEXT_PUBLIC_DEV_AUTH_BYPASS=true

# RABBITMQ QUEUE BROKER
# Celery task queue için RabbitMQ broker yapılandırması
RABBITMQ_USER=freecad
RABBITMQ_PASS=freecad
RABBITMQ_VHOST=/
RABBITMQ_PORT=5672
RABBITMQ_MGMT_PORT=15672
RABBITMQ_URL=amqp://freecad:freecad@rabbitmq:5672/

# CELERY CONFIGURATION
# Celery worker ve queue yapılandırması
CELERY_TASK_ALWAYS_EAGER=false
CELERY_TASK_EAGER_PROPAGATES=true
CELERY_WORKER_PREFETCH_MULTIPLIER=1
CELERY_TASK_ACKS_LATE=true
CELERY_TASK_REJECT_ON_WORKER_LOST=true
CELERY_BROKER_POOL_LIMIT=10

# QUEUE PRIORITIES (1-10, yüksek değer = yüksek öncelik)
QUEUE_PRIORITY_URGENT=9
QUEUE_PRIORITY_HIGH=7
QUEUE_PRIORITY_NORMAL=5
QUEUE_PRIORITY_LOW=3
QUEUE_PRIORITY_BACKGROUND=1

# ADDITIONAL PORTS (Geliştirme için)
MINIO_PORT=9000
MINIO_CONSOLE_PORT=9001
OTEL_COLLECTOR_PORT=4317
OTEL_COLLECTOR_HTTP_PORT=4318
PROMETHEUS_PORT=9090
GRAFANA_PORT=3001