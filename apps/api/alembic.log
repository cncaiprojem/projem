2025-08-17 17:25:44 INFO  [alembic.runtime.migration:215] Context impl PostgresqlImpl.
2025-08-17 17:25:44 INFO  [alembic.runtime.migration:218] Will assume transactional DDL.
2025-08-17 17:26:21 INFO  [alembic.runtime.migration:215] Context impl PostgresqlImpl.
2025-08-17 17:26:21 INFO  [alembic.runtime.migration:218] Will assume transactional DDL.
2025-08-17 17:26:42 INFO  [alembic.runtime.migration:215] Context impl PostgresqlImpl.
2025-08-17 17:26:42 INFO  [alembic.runtime.migration:218] Will assume transactional DDL.
2025-08-17 17:27:25 INFO  [alembic.runtime.migration:215] Context impl PostgresqlImpl.
2025-08-17 17:27:25 INFO  [alembic.runtime.migration:218] Will assume transactional DDL.
2025-08-17 17:27:45 INFO  [alembic.runtime.migration:215] Context impl PostgresqlImpl.
2025-08-17 17:27:45 INFO  [alembic.runtime.migration:218] Will assume transactional DDL.
2025-08-17 17:28:45 INFO  [alembic.runtime.migration:215] Context impl PostgresqlImpl.
2025-08-17 17:28:45 INFO  [alembic.runtime.migration:218] Will assume transactional DDL.
2025-08-17 17:28:58 INFO  [alembic.runtime.migration:215] Context impl PostgresqlImpl.
2025-08-17 17:28:58 INFO  [alembic.runtime.migration:218] Will assume transactional DDL.
2025-08-17 17:28:58 INFO  [alembic.runtime.migration:623] Running upgrade  -> 0001_init, init tables
2025-08-17 17:28:58 INFO  [alembic.runtime.migration:623] Running upgrade 0001_init -> 0002_jobs_extend, extend jobs
2025-08-17 17:28:58 INFO  [alembic.runtime.migration:623] Running upgrade 0002_jobs_extend -> 0003_jobs_task_id, add task_id to jobs
2025-08-17 17:28:58 INFO  [alembic.runtime.migration:623] Running upgrade 0003_jobs_task_id -> 0004_dead_jobs, dead_jobs table
2025-08-17 17:28:58 INFO  [alembic.runtime.migration:623] Running upgrade 0004_dead_jobs -> 0005_jobs_idempotency_unique, unique index on jobs.idempotency_key (nullable)
2025-08-17 17:28:58 INFO  [alembic.runtime.migration:623] Running upgrade 0005_jobs_idempotency_unique -> 0006_design_fields
2025-08-17 17:28:58 INFO  [alembic.runtime.migration:623] Running upgrade 0006_design_fields -> 0007_projects_qna
2025-08-17 17:28:58 INFO  [alembic.runtime.migration:623] Running upgrade 0007_projects_qna -> 0008_cutting_data
2025-08-17 17:28:58 INFO  [alembic.runtime.migration:623] Running upgrade 0008_cutting_data -> 0009_tooling_and_reports
2025-08-17 17:28:58 INFO  [alembic.runtime.migration:623] Running upgrade 0009_tooling_and_reports -> 0010_m18_multi_setup
2025-08-17 17:28:58 INFO  [alembic.runtime.migration:623] Running upgrade 0010_m18_multi_setup -> 0011_complete_schema, Complete database schema with all required tables
2025-08-17 17:29:12 INFO  [alembic.runtime.migration:215] Context impl PostgresqlImpl.
2025-08-17 17:29:12 INFO  [alembic.runtime.migration:218] Will assume transactional DDL.
2025-08-17 17:29:55 INFO  [alembic.runtime.migration:215] Context impl PostgresqlImpl.
2025-08-17 17:29:55 INFO  [alembic.runtime.migration:218] Will assume transactional DDL.
2025-08-17 17:30:20 INFO  [alembic.runtime.migration:215] Context impl PostgresqlImpl.
2025-08-17 17:30:20 INFO  [alembic.runtime.migration:218] Will assume transactional DDL.
2025-08-17 17:30:20 INFO  [alembic.runtime.migration:623] Running upgrade  -> 0001_init, init tables
2025-08-17 17:30:20 INFO  [alembic.runtime.migration:623] Running upgrade 0001_init -> 0002_jobs_extend, extend jobs
2025-08-17 17:30:20 INFO  [alembic.runtime.migration:623] Running upgrade 0002_jobs_extend -> 0003_jobs_task_id, add task_id to jobs
2025-08-17 17:30:20 INFO  [alembic.runtime.migration:623] Running upgrade 0003_jobs_task_id -> 0004_dead_jobs, dead_jobs table
2025-08-17 17:30:20 INFO  [alembic.runtime.migration:623] Running upgrade 0004_dead_jobs -> 0005_jobs_idempotency_unique, unique index on jobs.idempotency_key (nullable)
2025-08-17 17:30:20 INFO  [alembic.runtime.migration:623] Running upgrade 0005_jobs_idempotency_unique -> 0006_design_fields
2025-08-17 17:30:20 INFO  [alembic.runtime.migration:623] Running upgrade 0006_design_fields -> 0007_projects_qna
2025-08-17 17:30:20 INFO  [alembic.runtime.migration:623] Running upgrade 0007_projects_qna -> 0008_cutting_data
2025-08-17 17:30:20 INFO  [alembic.runtime.migration:623] Running upgrade 0008_cutting_data -> 0009_tooling_and_reports
2025-08-17 17:30:20 INFO  [alembic.runtime.migration:623] Running upgrade 0009_tooling_and_reports -> 0010_m18_multi_setup
2025-08-17 17:30:28 INFO  [alembic.runtime.migration:215] Context impl PostgresqlImpl.
2025-08-17 17:30:28 INFO  [alembic.runtime.migration:218] Will assume transactional DDL.
2025-08-17 17:30:54 INFO  [alembic.runtime.migration:215] Context impl PostgresqlImpl.
2025-08-17 17:30:54 INFO  [alembic.runtime.migration:218] Will assume transactional DDL.
2025-08-17 17:30:54 INFO  [alembic.runtime.migration:623] Running stamp_revision  -> 0010_m18_multi_setup
2025-08-17 15:21:58 INFO  [alembic.runtime.migration:215] Context impl PostgresqlImpl.
2025-08-17 15:21:58 INFO  [alembic.runtime.migration:218] Will assume transactional DDL.
2025-08-17 15:22:11 INFO  [alembic.runtime.migration:215] Context impl PostgresqlImpl.
2025-08-17 15:22:11 INFO  [alembic.runtime.migration:218] Will assume transactional DDL.
2025-08-17 15:22:12 INFO  [alembic.runtime.migration:623] Running upgrade  -> 0001_init, init tables
2025-08-17 15:22:12 INFO  [alembic.runtime.migration:623] Running upgrade 0001_init -> 0002_jobs_extend, extend jobs
2025-08-17 15:22:12 INFO  [alembic.runtime.migration:623] Running upgrade 0002_jobs_extend -> 0003_jobs_task_id, add task_id to jobs
2025-08-17 15:22:12 INFO  [alembic.runtime.migration:623] Running upgrade 0003_jobs_task_id -> 0004_dead_jobs, dead_jobs table
2025-08-17 15:22:12 INFO  [alembic.runtime.migration:623] Running upgrade 0004_dead_jobs -> 0005_jobs_idempotency_unique, unique index on jobs.idempotency_key (nullable)
2025-08-17 15:22:12 INFO  [alembic.runtime.migration:623] Running upgrade 0005_jobs_idempotency_unique -> 0006_design_fields
2025-08-17 15:22:12 INFO  [alembic.runtime.migration:623] Running upgrade 0006_design_fields -> 0007_projects_qna
2025-08-17 15:22:12 INFO  [alembic.runtime.migration:623] Running upgrade 0007_projects_qna -> 0008_cutting_data
2025-08-17 15:22:12 INFO  [alembic.runtime.migration:623] Running upgrade 0008_cutting_data -> 0009_tooling_and_reports
2025-08-17 15:22:12 INFO  [alembic.runtime.migration:623] Running upgrade 0009_tooling_and_reports -> 0010_m18_multi_setup
2025-08-17 15:26:54 INFO  [alembic.runtime.migration:215] Context impl PostgresqlImpl.
2025-08-17 15:26:54 INFO  [alembic.runtime.migration:218] Will assume transactional DDL.
2025-08-17 15:27:02 INFO  [alembic.runtime.migration:215] Context impl PostgresqlImpl.
2025-08-17 15:27:02 INFO  [alembic.runtime.migration:218] Will assume transactional DDL.
2025-08-17 15:27:02 INFO  [alembic.runtime.migration:623] Running upgrade  -> 0001_init, init tables
2025-08-17 15:27:02 INFO  [alembic.runtime.migration:623] Running upgrade 0001_init -> 0002_jobs_extend, extend jobs
2025-08-17 15:27:02 INFO  [alembic.runtime.migration:623] Running upgrade 0002_jobs_extend -> 0003_jobs_task_id, add task_id to jobs
2025-08-17 15:27:02 INFO  [alembic.runtime.migration:623] Running upgrade 0003_jobs_task_id -> 0004_dead_jobs, dead_jobs table
2025-08-17 15:27:02 INFO  [alembic.runtime.migration:623] Running upgrade 0004_dead_jobs -> 0005_jobs_idempotency_unique, unique index on jobs.idempotency_key (nullable)
2025-08-17 15:27:02 INFO  [alembic.runtime.migration:623] Running upgrade 0005_jobs_idempotency_unique -> 0006_design_fields
2025-08-17 15:27:02 INFO  [alembic.runtime.migration:623] Running upgrade 0006_design_fields -> 0007_projects_qna
2025-08-17 15:27:02 INFO  [alembic.runtime.migration:623] Running upgrade 0007_projects_qna -> 0008_cutting_data
2025-08-17 15:27:02 INFO  [alembic.runtime.migration:623] Running upgrade 0008_cutting_data -> 0009_tooling_and_reports
2025-08-17 15:27:02 INFO  [alembic.runtime.migration:623] Running upgrade 0009_tooling_and_reports -> 0010_m18_multi_setup
2025-08-17 15:27:25 INFO  [alembic.runtime.migration:215] Context impl PostgresqlImpl.
2025-08-17 15:27:25 INFO  [alembic.runtime.migration:218] Will assume transactional DDL.
2025-08-17 15:27:26 INFO  [alembic.runtime.migration:623] Running upgrade  -> 0001_init, init tables
2025-08-17 15:27:26 INFO  [alembic.runtime.migration:623] Running upgrade 0001_init -> 0002_jobs_extend, extend jobs
2025-08-17 15:27:26 INFO  [alembic.runtime.migration:623] Running upgrade 0002_jobs_extend -> 0003_jobs_task_id, add task_id to jobs
2025-08-17 15:27:26 INFO  [alembic.runtime.migration:623] Running upgrade 0003_jobs_task_id -> 0004_dead_jobs, dead_jobs table
2025-08-17 15:27:26 INFO  [alembic.runtime.migration:623] Running upgrade 0004_dead_jobs -> 0005_jobs_idempotency_unique, unique index on jobs.idempotency_key (nullable)
2025-08-17 15:27:26 INFO  [alembic.runtime.migration:623] Running upgrade 0005_jobs_idempotency_unique -> 0006_design_fields
2025-08-17 15:27:26 INFO  [alembic.runtime.migration:623] Running upgrade 0006_design_fields -> 0007_projects_qna
2025-08-17 15:27:26 INFO  [alembic.runtime.migration:623] Running upgrade 0007_projects_qna -> 0008_cutting_data
2025-08-17 15:27:26 INFO  [alembic.runtime.migration:623] Running upgrade 0008_cutting_data -> 0009_tooling_and_reports
2025-08-17 15:27:26 INFO  [alembic.runtime.migration:623] Running upgrade 0009_tooling_and_reports -> 0010_m18_multi_setup
2025-08-17 15:28:22 INFO  [alembic.runtime.migration:215] Context impl PostgresqlImpl.
2025-08-17 15:28:22 INFO  [alembic.runtime.migration:218] Will assume transactional DDL.
2025-08-17 15:28:31 INFO  [alembic.runtime.migration:215] Context impl PostgresqlImpl.
2025-08-17 15:28:31 INFO  [alembic.runtime.migration:218] Will assume transactional DDL.
2025-08-17 15:28:37 INFO  [alembic.runtime.migration:215] Context impl PostgresqlImpl.
2025-08-17 15:28:37 INFO  [alembic.runtime.migration:218] Will assume transactional DDL.
2025-08-17 15:28:45 INFO  [alembic.runtime.migration:215] Context impl PostgresqlImpl.
2025-08-17 15:28:45 INFO  [alembic.runtime.migration:218] Will assume transactional DDL.
2025-08-17 15:29:00 INFO  [alembic.runtime.migration:215] Context impl PostgresqlImpl.
2025-08-17 15:29:00 INFO  [alembic.runtime.migration:218] Will assume transactional DDL.
2025-08-17 15:29:00 INFO  [alembic.runtime.migration:623] Running stamp_revision  -> 0010_m18_multi_setup
2025-08-17 15:29:07 INFO  [alembic.runtime.migration:215] Context impl PostgresqlImpl.
2025-08-17 15:29:07 INFO  [alembic.runtime.migration:218] Will assume transactional DDL.
2025-08-17 15:29:34 INFO  [alembic.runtime.migration:215] Context impl PostgresqlImpl.
2025-08-17 15:29:34 INFO  [alembic.runtime.migration:218] Will assume transactional DDL.
2025-08-17 15:29:34 INFO  [alembic.autogenerate.compare:189] Detected added table 'erp_mes_sync'
2025-08-17 15:29:34 INFO  [alembic.autogenerate.compare:633] Detected added index ''idx_erp_mes_sync_created_at'' on '('created_at',)'
2025-08-17 15:29:34 INFO  [alembic.autogenerate.compare:633] Detected added index ''idx_erp_mes_sync_entity'' on '('entity_type', 'entity_id')'
2025-08-17 15:29:34 INFO  [alembic.autogenerate.compare:633] Detected added index ''idx_erp_mes_sync_external_id'' on '('external_id',)'
2025-08-17 15:29:34 INFO  [alembic.autogenerate.compare:633] Detected added index ''idx_erp_mes_sync_last_sync'' on '('last_sync_at',)'
2025-08-17 15:29:34 INFO  [alembic.autogenerate.compare:633] Detected added index ''idx_erp_mes_sync_status'' on '('status',)'
2025-08-17 15:29:34 INFO  [alembic.autogenerate.compare:633] Detected added index ''ix_erp_mes_sync_entity_id'' on '('entity_id',)'
2025-08-17 15:29:34 INFO  [alembic.autogenerate.compare:633] Detected added index ''ix_erp_mes_sync_entity_type'' on '('entity_type',)'
2025-08-17 15:29:34 INFO  [alembic.autogenerate.compare:633] Detected added index ''ix_erp_mes_sync_external_id'' on '('external_id',)'
2025-08-17 15:29:34 INFO  [alembic.autogenerate.compare:633] Detected added index ''ix_erp_mes_sync_status'' on '('status',)'
2025-08-17 15:29:34 INFO  [alembic.autogenerate.compare:189] Detected added table 'machines'
2025-08-17 15:29:34 INFO  [alembic.autogenerate.compare:633] Detected added index ''idx_machines_active'' on '('is_active', 'name')'
2025-08-17 15:29:34 INFO  [alembic.autogenerate.compare:633] Detected added index ''ix_machines_type'' on '('type',)'
2025-08-17 15:29:34 INFO  [alembic.autogenerate.compare:189] Detected added table 'materials'
2025-08-17 15:29:34 INFO  [alembic.autogenerate.compare:633] Detected added index ''idx_materials_properties'' on '('properties',)'
2025-08-17 15:29:34 INFO  [alembic.autogenerate.compare:633] Detected added index ''ix_materials_category'' on '('category',)'
2025-08-17 15:29:34 INFO  [alembic.autogenerate.compare:633] Detected added index ''ix_materials_name'' on '('name',)'
2025-08-17 15:29:34 INFO  [alembic.autogenerate.compare:189] Detected added table 'tools'
2025-08-17 15:29:34 INFO  [alembic.autogenerate.compare:633] Detected added index ''idx_tools_diameter'' on '('diameter_mm',)'
2025-08-17 15:29:34 INFO  [alembic.autogenerate.compare:633] Detected added index ''idx_tools_inventory'' on '('quantity_available',)'
2025-08-17 15:29:34 INFO  [alembic.autogenerate.compare:633] Detected added index ''idx_tools_material'' on '('material',)'
2025-08-17 15:29:34 INFO  [alembic.autogenerate.compare:633] Detected added index ''idx_tools_part_number'' on '('part_number',)'
2025-08-17 15:29:34 INFO  [alembic.autogenerate.compare:633] Detected added index ''ix_tools_diameter_mm'' on '('diameter_mm',)'
2025-08-17 15:29:34 INFO  [alembic.autogenerate.compare:633] Detected added index ''ix_tools_material'' on '('material',)'
2025-08-17 15:29:34 INFO  [alembic.autogenerate.compare:633] Detected added index ''ix_tools_part_number'' on '('part_number',)'
2025-08-17 15:29:34 INFO  [alembic.autogenerate.compare:633] Detected added index ''ix_tools_type'' on '('type',)'
2025-08-17 15:29:34 INFO  [alembic.autogenerate.compare:189] Detected added table 'users'
2025-08-17 15:29:34 INFO  [alembic.autogenerate.compare:633] Detected added index ''idx_users_created_at'' on '('created_at',)'
2025-08-17 15:29:34 INFO  [alembic.autogenerate.compare:633] Detected added index ''idx_users_metadata'' on '('metadata',)'
2025-08-17 15:29:34 INFO  [alembic.autogenerate.compare:633] Detected added index ''idx_users_phone'' on '('phone',)'
2025-08-17 15:29:34 INFO  [alembic.autogenerate.compare:633] Detected added index ''idx_users_tax_no'' on '('tax_no',)'
2025-08-17 15:29:34 INFO  [alembic.autogenerate.compare:633] Detected added index ''ix_users_email'' on '('email',)'
2025-08-17 15:29:34 INFO  [alembic.autogenerate.compare:633] Detected added index ''ix_users_phone'' on '('phone',)'
2025-08-17 15:29:34 INFO  [alembic.autogenerate.compare:633] Detected added index ''ix_users_role'' on '('role',)'
2025-08-17 15:29:34 INFO  [alembic.autogenerate.compare:633] Detected added index ''ix_users_status'' on '('status',)'
2025-08-17 15:29:34 INFO  [alembic.autogenerate.compare:633] Detected added index ''ix_users_tax_no'' on '('tax_no',)'
2025-08-17 15:29:34 INFO  [alembic.autogenerate.compare:189] Detected added table 'audit_logs'
2025-08-17 15:29:34 INFO  [alembic.autogenerate.compare:633] Detected added index ''idx_audit_logs_actor_user'' on '('actor_user_id',)'
2025-08-17 15:29:34 INFO  [alembic.autogenerate.compare:633] Detected added index ''idx_audit_logs_event_type'' on '('event_type',)'
2025-08-17 15:29:34 INFO  [alembic.autogenerate.compare:633] Detected added index ''idx_audit_logs_payload_gin'' on '('payload',)'
2025-08-17 15:29:34 INFO  [alembic.autogenerate.compare:633] Detected added index ''idx_audit_logs_scope_created'' on '('scope_type', 'scope_id', 'created_at')'
2025-08-17 15:29:34 INFO  [alembic.autogenerate.compare:633] Detected added index ''ix_audit_logs_actor_user_id'' on '('actor_user_id',)'
2025-08-17 15:29:34 INFO  [alembic.autogenerate.compare:633] Detected added index ''ix_audit_logs_chain_hash'' on '('chain_hash',)'
2025-08-17 15:29:34 INFO  [alembic.autogenerate.compare:633] Detected added index ''ix_audit_logs_created_at'' on '('created_at',)'
2025-08-17 15:29:34 INFO  [alembic.autogenerate.compare:633] Detected added index ''ix_audit_logs_event_type'' on '('event_type',)'
2025-08-17 15:29:34 INFO  [alembic.autogenerate.compare:633] Detected added index ''ix_audit_logs_scope_id'' on '('scope_id',)'
2025-08-17 15:29:34 INFO  [alembic.autogenerate.compare:633] Detected added index ''ix_audit_logs_scope_type'' on '('scope_type',)'
2025-08-17 15:29:34 INFO  [alembic.autogenerate.compare:189] Detected added table 'invoices'
2025-08-17 15:29:34 INFO  [alembic.autogenerate.compare:633] Detected added index ''idx_invoices_due_at'' on '('due_at',)'
2025-08-17 15:29:34 INFO  [alembic.autogenerate.compare:633] Detected added index ''idx_invoices_issued_at'' on '('issued_at',)'
2025-08-17 15:29:34 INFO  [alembic.autogenerate.compare:633] Detected added index ''idx_invoices_user_status'' on '('user_id', 'status')'
2025-08-17 15:29:34 INFO  [alembic.autogenerate.compare:633] Detected added index ''ix_invoices_due_at'' on '('due_at',)'
2025-08-17 15:29:34 INFO  [alembic.autogenerate.compare:633] Detected added index ''ix_invoices_issued_at'' on '('issued_at',)'
2025-08-17 15:29:34 INFO  [alembic.autogenerate.compare:633] Detected added index ''ix_invoices_number'' on '('number',)'
2025-08-17 15:29:34 INFO  [alembic.autogenerate.compare:633] Detected added index ''ix_invoices_status'' on '('status',)'
2025-08-17 15:29:34 INFO  [alembic.autogenerate.compare:633] Detected added index ''ix_invoices_user_id'' on '('user_id',)'
2025-08-17 15:29:34 INFO  [alembic.autogenerate.compare:189] Detected added table 'jobs'
2025-08-17 15:29:34 INFO  [alembic.autogenerate.compare:633] Detected added index ''idx_jobs_idempotency_key'' on '('idempotency_key',)'
2025-08-17 15:29:34 INFO  [alembic.autogenerate.compare:633] Detected added index ''idx_jobs_input_params'' on '('input_params',)'
2025-08-17 15:29:34 INFO  [alembic.autogenerate.compare:633] Detected added index ''idx_jobs_metrics'' on '('metrics',)'
2025-08-17 15:29:34 INFO  [alembic.autogenerate.compare:633] Detected added index ''idx_jobs_status_created_at'' on '('status', 'created_at')'
2025-08-17 15:29:34 INFO  [alembic.autogenerate.compare:633] Detected added index ''idx_jobs_type'' on '('type',)'
2025-08-17 15:29:34 INFO  [alembic.autogenerate.compare:633] Detected added index ''idx_jobs_user_id'' on '('user_id',)'
2025-08-17 15:29:34 INFO  [alembic.autogenerate.compare:633] Detected added index ''ix_jobs_finished_at'' on '('finished_at',)'
2025-08-17 15:29:34 INFO  [alembic.autogenerate.compare:633] Detected added index ''ix_jobs_idempotency_key'' on '('idempotency_key',)'
2025-08-17 15:29:34 INFO  [alembic.autogenerate.compare:633] Detected added index ''ix_jobs_started_at'' on '('started_at',)'
2025-08-17 15:29:34 INFO  [alembic.autogenerate.compare:633] Detected added index ''ix_jobs_status'' on '('status',)'
2025-08-17 15:29:34 INFO  [alembic.autogenerate.compare:633] Detected added index ''ix_jobs_task_id'' on '('task_id',)'
2025-08-17 15:29:34 INFO  [alembic.autogenerate.compare:633] Detected added index ''ix_jobs_type'' on '('type',)'
2025-08-17 15:29:34 INFO  [alembic.autogenerate.compare:633] Detected added index ''ix_jobs_user_id'' on '('user_id',)'
2025-08-17 15:29:34 INFO  [alembic.autogenerate.compare:189] Detected added table 'licenses'
2025-08-17 15:29:34 INFO  [alembic.autogenerate.compare:633] Detected added index ''idx_licenses_features'' on '('features',)'
2025-08-17 15:29:34 INFO  [alembic.autogenerate.compare:633] Detected added index ''idx_licenses_status_ends_at'' on '('status', 'ends_at')'
2025-08-17 15:29:34 INFO  [alembic.autogenerate.compare:633] Detected added index ''idx_licenses_user_id'' on '('user_id',)'
2025-08-17 15:29:34 INFO  [alembic.autogenerate.compare:633] Detected added index ''ix_licenses_ends_at'' on '('ends_at',)'
2025-08-17 15:29:34 INFO  [alembic.autogenerate.compare:633] Detected added index ''ix_licenses_status'' on '('status',)'
2025-08-17 15:29:34 INFO  [alembic.autogenerate.compare:633] Detected added index ''ix_licenses_user_id'' on '('user_id',)'
2025-08-17 15:29:34 INFO  [alembic.autogenerate.compare:189] Detected added table 'models'
2025-08-17 15:29:34 INFO  [alembic.autogenerate.compare:633] Detected added index ''idx_models_created_at'' on '('created_at',)'
2025-08-17 15:29:34 INFO  [alembic.autogenerate.compare:633] Detected added index ''idx_models_metadata'' on '('metadata',)'
2025-08-17 15:29:34 INFO  [alembic.autogenerate.compare:633] Detected added index ''idx_models_params'' on '('params',)'
2025-08-17 15:29:34 INFO  [alembic.autogenerate.compare:633] Detected added index ''idx_models_type'' on '('type',)'
2025-08-17 15:29:34 INFO  [alembic.autogenerate.compare:633] Detected added index ''idx_models_user_id'' on '('user_id',)'
2025-08-17 15:29:34 INFO  [alembic.autogenerate.compare:633] Detected added index ''ix_models_parent_model_id'' on '('parent_model_id',)'
2025-08-17 15:29:34 INFO  [alembic.autogenerate.compare:633] Detected added index ''ix_models_s3_key'' on '('s3_key',)'
2025-08-17 15:29:34 INFO  [alembic.autogenerate.compare:633] Detected added index ''ix_models_sha256_hash'' on '('sha256_hash',)'
2025-08-17 15:29:34 INFO  [alembic.autogenerate.compare:633] Detected added index ''ix_models_user_id'' on '('user_id',)'
2025-08-17 15:29:34 INFO  [alembic.autogenerate.compare:189] Detected added table 'notifications'
2025-08-17 15:29:34 INFO  [alembic.autogenerate.compare:633] Detected added index ''idx_notifications_read_at'' on '('read_at',)'
2025-08-17 15:29:34 INFO  [alembic.autogenerate.compare:633] Detected added index ''idx_notifications_type_created'' on '('type', 'created_at')'
2025-08-17 15:29:34 INFO  [alembic.autogenerate.compare:633] Detected added index ''idx_notifications_user_id_type'' on '('user_id', 'type')'
2025-08-17 15:29:34 INFO  [alembic.autogenerate.compare:633] Detected added index ''idx_notifications_user_unread'' on '('user_id', 'created_at')'
2025-08-17 15:29:34 INFO  [alembic.autogenerate.compare:633] Detected added index ''ix_notifications_read_at'' on '('read_at',)'
2025-08-17 15:29:34 INFO  [alembic.autogenerate.compare:633] Detected added index ''ix_notifications_type'' on '('type',)'
2025-08-17 15:29:34 INFO  [alembic.autogenerate.compare:633] Detected added index ''ix_notifications_user_id'' on '('user_id',)'
2025-08-17 15:29:34 INFO  [alembic.autogenerate.compare:189] Detected added table 'security_events'
2025-08-17 15:29:34 INFO  [alembic.autogenerate.compare:633] Detected added index ''idx_security_events_created_at'' on '('created_at',)'
2025-08-17 15:29:34 INFO  [alembic.autogenerate.compare:633] Detected added index ''idx_security_events_ip_created'' on '('ip', 'created_at')'
2025-08-17 15:29:34 INFO  [alembic.autogenerate.compare:633] Detected added index ''idx_security_events_type'' on '('type',)'
2025-08-17 15:29:34 INFO  [alembic.autogenerate.compare:633] Detected added index ''idx_security_events_user_id'' on '('user_id',)'
2025-08-17 15:29:34 INFO  [alembic.autogenerate.compare:633] Detected added index ''idx_security_events_user_type'' on '('user_id', 'type', 'created_at')'
2025-08-17 15:29:34 INFO  [alembic.autogenerate.compare:633] Detected added index ''ix_security_events_created_at'' on '('created_at',)'
2025-08-17 15:29:34 INFO  [alembic.autogenerate.compare:633] Detected added index ''ix_security_events_ip'' on '('ip',)'
2025-08-17 15:29:34 INFO  [alembic.autogenerate.compare:633] Detected added index ''ix_security_events_type'' on '('type',)'
2025-08-17 15:29:34 INFO  [alembic.autogenerate.compare:633] Detected added index ''ix_security_events_user_id'' on '('user_id',)'
2025-08-17 15:29:34 INFO  [alembic.autogenerate.compare:189] Detected added table 'sessions'
2025-08-17 15:29:34 INFO  [alembic.autogenerate.compare:633] Detected added index ''idx_sessions_device_fingerprint'' on '('device_fingerprint',)'
2025-08-17 15:29:34 INFO  [alembic.autogenerate.compare:633] Detected added index ''idx_sessions_expires_at'' on '('expires_at',)'
2025-08-17 15:29:34 INFO  [alembic.autogenerate.compare:633] Detected added index ''idx_sessions_user_id'' on '('user_id',)'
2025-08-17 15:29:34 INFO  [alembic.autogenerate.compare:633] Detected added index ''ix_sessions_access_token_jti'' on '('access_token_jti',)'
2025-08-17 15:29:34 INFO  [alembic.autogenerate.compare:633] Detected added index ''ix_sessions_device_fingerprint'' on '('device_fingerprint',)'
2025-08-17 15:29:34 INFO  [alembic.autogenerate.compare:633] Detected added index ''ix_sessions_expires_at'' on '('expires_at',)'
2025-08-17 15:29:34 INFO  [alembic.autogenerate.compare:633] Detected added index ''ix_sessions_last_used_at'' on '('last_used_at',)'
2025-08-17 15:29:34 INFO  [alembic.autogenerate.compare:633] Detected added index ''ix_sessions_refresh_token_hash'' on '('refresh_token_hash',)'
2025-08-17 15:29:34 INFO  [alembic.autogenerate.compare:633] Detected added index ''ix_sessions_revoked_at'' on '('revoked_at',)'
2025-08-17 15:29:34 INFO  [alembic.autogenerate.compare:633] Detected added index ''ix_sessions_user_id'' on '('user_id',)'
2025-08-17 15:29:34 INFO  [alembic.autogenerate.compare:189] Detected added table 'artefacts'
2025-08-17 15:29:34 INFO  [alembic.autogenerate.compare:633] Detected added index ''idx_artefacts_created_at'' on '('created_at',)'
2025-08-17 15:29:34 INFO  [alembic.autogenerate.compare:633] Detected added index ''idx_artefacts_job_id_type'' on '('job_id', 'type')'
2025-08-17 15:29:34 INFO  [alembic.autogenerate.compare:633] Detected added index ''idx_artefacts_meta_gin'' on '('meta',)'
2025-08-17 15:29:34 INFO  [alembic.autogenerate.compare:633] Detected added index ''idx_artefacts_sha256'' on '('sha256',)'
2025-08-17 15:29:34 INFO  [alembic.autogenerate.compare:633] Detected added index ''idx_artefacts_size_bytes'' on '('size_bytes',)'
2025-08-17 15:29:34 INFO  [alembic.autogenerate.compare:633] Detected added index ''ix_artefacts_job_id'' on '('job_id',)'
2025-08-17 15:29:34 INFO  [alembic.autogenerate.compare:633] Detected added index ''ix_artefacts_sha256'' on '('sha256',)'
2025-08-17 15:29:34 INFO  [alembic.autogenerate.compare:633] Detected added index ''ix_artefacts_type'' on '('type',)'
2025-08-17 15:29:34 INFO  [alembic.autogenerate.compare:189] Detected added table 'cam_runs'
2025-08-17 15:29:34 INFO  [alembic.autogenerate.compare:633] Detected added index ''idx_cam_runs_created_at'' on '('created_at',)'
2025-08-17 15:29:34 INFO  [alembic.autogenerate.compare:633] Detected added index ''idx_cam_runs_job_id_status'' on '('job_id', 'status')'
2025-08-17 15:29:34 INFO  [alembic.autogenerate.compare:633] Detected added index ''idx_cam_runs_machine_status'' on '('machine_id', 'status')'
2025-08-17 15:29:34 INFO  [alembic.autogenerate.compare:633] Detected added index ''ix_cam_runs_job_id'' on '('job_id',)'
2025-08-17 15:29:34 INFO  [alembic.autogenerate.compare:633] Detected added index ''ix_cam_runs_machine_id'' on '('machine_id',)'
2025-08-17 15:29:34 INFO  [alembic.autogenerate.compare:633] Detected added index ''ix_cam_runs_status'' on '('status',)'
2025-08-17 15:29:34 INFO  [alembic.autogenerate.compare:189] Detected added table 'payments'
2025-08-17 15:29:34 INFO  [alembic.autogenerate.compare:633] Detected added index ''idx_payments_invoice_status'' on '('invoice_id', 'status')'
2025-08-17 15:29:34 INFO  [alembic.autogenerate.compare:633] Detected added index ''idx_payments_paid_at'' on '('paid_at',)'
2025-08-17 15:29:34 INFO  [alembic.autogenerate.compare:633] Detected added index ''idx_payments_provider'' on '('provider', 'status')'
2025-08-17 15:29:34 INFO  [alembic.autogenerate.compare:633] Detected added index ''idx_payments_user_status'' on '('user_id', 'status')'
2025-08-17 15:29:34 INFO  [alembic.autogenerate.compare:633] Detected added index ''ix_payments_invoice_id'' on '('invoice_id',)'
2025-08-17 15:29:34 INFO  [alembic.autogenerate.compare:633] Detected added index ''ix_payments_paid_at'' on '('paid_at',)'
2025-08-17 15:29:34 INFO  [alembic.autogenerate.compare:633] Detected added index ''ix_payments_status'' on '('status',)'
2025-08-17 15:29:34 INFO  [alembic.autogenerate.compare:633] Detected added index ''ix_payments_user_id'' on '('user_id',)'
2025-08-17 15:29:34 INFO  [alembic.autogenerate.compare:189] Detected added table 'sim_runs'
2025-08-17 15:29:34 INFO  [alembic.autogenerate.compare:633] Detected added index ''idx_sim_runs_created_at'' on '('created_at',)'
2025-08-17 15:29:34 INFO  [alembic.autogenerate.compare:633] Detected added index ''idx_sim_runs_job_id_status'' on '('job_id', 'status')'
2025-08-17 15:29:34 INFO  [alembic.autogenerate.compare:633] Detected added index ''idx_sim_runs_status'' on '('status',)'
2025-08-17 15:29:34 INFO  [alembic.autogenerate.compare:633] Detected added index ''ix_sim_runs_job_id'' on '('job_id',)'
2025-08-17 15:29:34 INFO  [alembic.autogenerate.compare:633] Detected added index ''ix_sim_runs_status'' on '('status',)'
2025-08-17 15:29:52 INFO  [alembic.runtime.migration:215] Context impl PostgresqlImpl.
2025-08-17 15:29:52 INFO  [alembic.runtime.migration:218] Will assume transactional DDL.
2025-08-17 15:29:52 INFO  [alembic.autogenerate.compare:189] Detected added table 'erp_mes_sync'
2025-08-17 15:29:52 INFO  [alembic.autogenerate.compare:633] Detected added index ''idx_erp_mes_sync_created_at'' on '('created_at',)'
2025-08-17 15:29:52 INFO  [alembic.autogenerate.compare:633] Detected added index ''idx_erp_mes_sync_entity'' on '('entity_type', 'entity_id')'
2025-08-17 15:29:52 INFO  [alembic.autogenerate.compare:633] Detected added index ''idx_erp_mes_sync_external_id'' on '('external_id',)'
2025-08-17 15:29:52 INFO  [alembic.autogenerate.compare:633] Detected added index ''idx_erp_mes_sync_last_sync'' on '('last_sync_at',)'
2025-08-17 15:29:52 INFO  [alembic.autogenerate.compare:633] Detected added index ''idx_erp_mes_sync_status'' on '('status',)'
2025-08-17 15:29:52 INFO  [alembic.autogenerate.compare:633] Detected added index ''ix_erp_mes_sync_entity_id'' on '('entity_id',)'
2025-08-17 15:29:52 INFO  [alembic.autogenerate.compare:633] Detected added index ''ix_erp_mes_sync_entity_type'' on '('entity_type',)'
2025-08-17 15:29:52 INFO  [alembic.autogenerate.compare:633] Detected added index ''ix_erp_mes_sync_external_id'' on '('external_id',)'
2025-08-17 15:29:52 INFO  [alembic.autogenerate.compare:633] Detected added index ''ix_erp_mes_sync_status'' on '('status',)'
2025-08-17 15:29:52 INFO  [alembic.autogenerate.compare:189] Detected added table 'machines'
2025-08-17 15:29:52 INFO  [alembic.autogenerate.compare:633] Detected added index ''idx_machines_active'' on '('is_active', 'name')'
2025-08-17 15:29:52 INFO  [alembic.autogenerate.compare:633] Detected added index ''ix_machines_type'' on '('type',)'
2025-08-17 15:29:52 INFO  [alembic.autogenerate.compare:189] Detected added table 'materials'
2025-08-17 15:29:52 INFO  [alembic.autogenerate.compare:633] Detected added index ''idx_materials_properties'' on '('properties',)'
2025-08-17 15:29:52 INFO  [alembic.autogenerate.compare:633] Detected added index ''ix_materials_category'' on '('category',)'
2025-08-17 15:29:52 INFO  [alembic.autogenerate.compare:633] Detected added index ''ix_materials_name'' on '('name',)'
2025-08-17 15:29:52 INFO  [alembic.autogenerate.compare:189] Detected added table 'tools'
2025-08-17 15:29:52 INFO  [alembic.autogenerate.compare:633] Detected added index ''idx_tools_diameter'' on '('diameter_mm',)'
2025-08-17 15:29:52 INFO  [alembic.autogenerate.compare:633] Detected added index ''idx_tools_inventory'' on '('quantity_available',)'
2025-08-17 15:29:52 INFO  [alembic.autogenerate.compare:633] Detected added index ''idx_tools_material'' on '('material',)'
2025-08-17 15:29:52 INFO  [alembic.autogenerate.compare:633] Detected added index ''idx_tools_part_number'' on '('part_number',)'
2025-08-17 15:29:52 INFO  [alembic.autogenerate.compare:633] Detected added index ''ix_tools_diameter_mm'' on '('diameter_mm',)'
2025-08-17 15:29:52 INFO  [alembic.autogenerate.compare:633] Detected added index ''ix_tools_material'' on '('material',)'
2025-08-17 15:29:52 INFO  [alembic.autogenerate.compare:633] Detected added index ''ix_tools_part_number'' on '('part_number',)'
2025-08-17 15:29:52 INFO  [alembic.autogenerate.compare:633] Detected added index ''ix_tools_type'' on '('type',)'
2025-08-17 15:29:52 INFO  [alembic.autogenerate.compare:189] Detected added table 'users'
2025-08-17 15:29:52 INFO  [alembic.autogenerate.compare:633] Detected added index ''idx_users_created_at'' on '('created_at',)'
2025-08-17 15:29:52 INFO  [alembic.autogenerate.compare:633] Detected added index ''idx_users_metadata'' on '('metadata',)'
2025-08-17 15:29:52 INFO  [alembic.autogenerate.compare:633] Detected added index ''idx_users_phone'' on '('phone',)'
2025-08-17 15:29:52 INFO  [alembic.autogenerate.compare:633] Detected added index ''idx_users_tax_no'' on '('tax_no',)'
2025-08-17 15:29:52 INFO  [alembic.autogenerate.compare:633] Detected added index ''ix_users_email'' on '('email',)'
2025-08-17 15:29:52 INFO  [alembic.autogenerate.compare:633] Detected added index ''ix_users_phone'' on '('phone',)'
2025-08-17 15:29:52 INFO  [alembic.autogenerate.compare:633] Detected added index ''ix_users_role'' on '('role',)'
2025-08-17 15:29:52 INFO  [alembic.autogenerate.compare:633] Detected added index ''ix_users_status'' on '('status',)'
2025-08-17 15:29:52 INFO  [alembic.autogenerate.compare:633] Detected added index ''ix_users_tax_no'' on '('tax_no',)'
2025-08-17 15:29:52 INFO  [alembic.autogenerate.compare:189] Detected added table 'audit_logs'
2025-08-17 15:29:52 INFO  [alembic.autogenerate.compare:633] Detected added index ''idx_audit_logs_actor_user'' on '('actor_user_id',)'
2025-08-17 15:29:52 INFO  [alembic.autogenerate.compare:633] Detected added index ''idx_audit_logs_event_type'' on '('event_type',)'
2025-08-17 15:29:52 INFO  [alembic.autogenerate.compare:633] Detected added index ''idx_audit_logs_payload_gin'' on '('payload',)'
2025-08-17 15:29:52 INFO  [alembic.autogenerate.compare:633] Detected added index ''idx_audit_logs_scope_created'' on '('scope_type', 'scope_id', 'created_at')'
2025-08-17 15:29:52 INFO  [alembic.autogenerate.compare:633] Detected added index ''ix_audit_logs_actor_user_id'' on '('actor_user_id',)'
2025-08-17 15:29:52 INFO  [alembic.autogenerate.compare:633] Detected added index ''ix_audit_logs_chain_hash'' on '('chain_hash',)'
2025-08-17 15:29:52 INFO  [alembic.autogenerate.compare:633] Detected added index ''ix_audit_logs_created_at'' on '('created_at',)'
2025-08-17 15:29:52 INFO  [alembic.autogenerate.compare:633] Detected added index ''ix_audit_logs_event_type'' on '('event_type',)'
2025-08-17 15:29:52 INFO  [alembic.autogenerate.compare:633] Detected added index ''ix_audit_logs_scope_id'' on '('scope_id',)'
2025-08-17 15:29:52 INFO  [alembic.autogenerate.compare:633] Detected added index ''ix_audit_logs_scope_type'' on '('scope_type',)'
2025-08-17 15:29:52 INFO  [alembic.autogenerate.compare:189] Detected added table 'invoices'
2025-08-17 15:29:52 INFO  [alembic.autogenerate.compare:633] Detected added index ''idx_invoices_due_at'' on '('due_at',)'
2025-08-17 15:29:52 INFO  [alembic.autogenerate.compare:633] Detected added index ''idx_invoices_issued_at'' on '('issued_at',)'
2025-08-17 15:29:52 INFO  [alembic.autogenerate.compare:633] Detected added index ''idx_invoices_user_status'' on '('user_id', 'status')'
2025-08-17 15:29:52 INFO  [alembic.autogenerate.compare:633] Detected added index ''ix_invoices_due_at'' on '('due_at',)'
2025-08-17 15:29:52 INFO  [alembic.autogenerate.compare:633] Detected added index ''ix_invoices_issued_at'' on '('issued_at',)'
2025-08-17 15:29:52 INFO  [alembic.autogenerate.compare:633] Detected added index ''ix_invoices_number'' on '('number',)'
2025-08-17 15:29:52 INFO  [alembic.autogenerate.compare:633] Detected added index ''ix_invoices_status'' on '('status',)'
2025-08-17 15:29:52 INFO  [alembic.autogenerate.compare:633] Detected added index ''ix_invoices_user_id'' on '('user_id',)'
2025-08-17 15:29:52 INFO  [alembic.autogenerate.compare:189] Detected added table 'jobs'
2025-08-17 15:29:52 INFO  [alembic.autogenerate.compare:633] Detected added index ''idx_jobs_idempotency_key'' on '('idempotency_key',)'
2025-08-17 15:29:52 INFO  [alembic.autogenerate.compare:633] Detected added index ''idx_jobs_input_params'' on '('input_params',)'
2025-08-17 15:29:52 INFO  [alembic.autogenerate.compare:633] Detected added index ''idx_jobs_metrics'' on '('metrics',)'
2025-08-17 15:29:52 INFO  [alembic.autogenerate.compare:633] Detected added index ''idx_jobs_status_created_at'' on '('status', 'created_at')'
2025-08-17 15:29:52 INFO  [alembic.autogenerate.compare:633] Detected added index ''idx_jobs_type'' on '('type',)'
2025-08-17 15:29:52 INFO  [alembic.autogenerate.compare:633] Detected added index ''idx_jobs_user_id'' on '('user_id',)'
2025-08-17 15:29:52 INFO  [alembic.autogenerate.compare:633] Detected added index ''ix_jobs_finished_at'' on '('finished_at',)'
2025-08-17 15:29:52 INFO  [alembic.autogenerate.compare:633] Detected added index ''ix_jobs_idempotency_key'' on '('idempotency_key',)'
2025-08-17 15:29:52 INFO  [alembic.autogenerate.compare:633] Detected added index ''ix_jobs_started_at'' on '('started_at',)'
2025-08-17 15:29:52 INFO  [alembic.autogenerate.compare:633] Detected added index ''ix_jobs_status'' on '('status',)'
2025-08-17 15:29:52 INFO  [alembic.autogenerate.compare:633] Detected added index ''ix_jobs_task_id'' on '('task_id',)'
2025-08-17 15:29:52 INFO  [alembic.autogenerate.compare:633] Detected added index ''ix_jobs_type'' on '('type',)'
2025-08-17 15:29:52 INFO  [alembic.autogenerate.compare:633] Detected added index ''ix_jobs_user_id'' on '('user_id',)'
2025-08-17 15:29:52 INFO  [alembic.autogenerate.compare:189] Detected added table 'licenses'
2025-08-17 15:29:52 INFO  [alembic.autogenerate.compare:633] Detected added index ''idx_licenses_features'' on '('features',)'
2025-08-17 15:29:52 INFO  [alembic.autogenerate.compare:633] Detected added index ''idx_licenses_status_ends_at'' on '('status', 'ends_at')'
2025-08-17 15:29:52 INFO  [alembic.autogenerate.compare:633] Detected added index ''idx_licenses_user_id'' on '('user_id',)'
2025-08-17 15:29:52 INFO  [alembic.autogenerate.compare:633] Detected added index ''ix_licenses_ends_at'' on '('ends_at',)'
2025-08-17 15:29:52 INFO  [alembic.autogenerate.compare:633] Detected added index ''ix_licenses_status'' on '('status',)'
2025-08-17 15:29:52 INFO  [alembic.autogenerate.compare:633] Detected added index ''ix_licenses_user_id'' on '('user_id',)'
2025-08-17 15:29:52 INFO  [alembic.autogenerate.compare:189] Detected added table 'models'
2025-08-17 15:29:52 INFO  [alembic.autogenerate.compare:633] Detected added index ''idx_models_created_at'' on '('created_at',)'
2025-08-17 15:29:52 INFO  [alembic.autogenerate.compare:633] Detected added index ''idx_models_metadata'' on '('metadata',)'
2025-08-17 15:29:52 INFO  [alembic.autogenerate.compare:633] Detected added index ''idx_models_params'' on '('params',)'
2025-08-17 15:29:52 INFO  [alembic.autogenerate.compare:633] Detected added index ''idx_models_type'' on '('type',)'
2025-08-17 15:29:52 INFO  [alembic.autogenerate.compare:633] Detected added index ''idx_models_user_id'' on '('user_id',)'
2025-08-17 15:29:52 INFO  [alembic.autogenerate.compare:633] Detected added index ''ix_models_parent_model_id'' on '('parent_model_id',)'
2025-08-17 15:29:52 INFO  [alembic.autogenerate.compare:633] Detected added index ''ix_models_s3_key'' on '('s3_key',)'
2025-08-17 15:29:52 INFO  [alembic.autogenerate.compare:633] Detected added index ''ix_models_sha256_hash'' on '('sha256_hash',)'
2025-08-17 15:29:52 INFO  [alembic.autogenerate.compare:633] Detected added index ''ix_models_user_id'' on '('user_id',)'
2025-08-17 15:29:52 INFO  [alembic.autogenerate.compare:189] Detected added table 'notifications'
2025-08-17 15:29:52 INFO  [alembic.autogenerate.compare:633] Detected added index ''idx_notifications_read_at'' on '('read_at',)'
2025-08-17 15:29:52 INFO  [alembic.autogenerate.compare:633] Detected added index ''idx_notifications_type_created'' on '('type', 'created_at')'
2025-08-17 15:29:52 INFO  [alembic.autogenerate.compare:633] Detected added index ''idx_notifications_user_id_type'' on '('user_id', 'type')'
2025-08-17 15:29:52 INFO  [alembic.autogenerate.compare:633] Detected added index ''idx_notifications_user_unread'' on '('user_id', 'created_at')'
2025-08-17 15:29:52 INFO  [alembic.autogenerate.compare:633] Detected added index ''ix_notifications_read_at'' on '('read_at',)'
2025-08-17 15:29:52 INFO  [alembic.autogenerate.compare:633] Detected added index ''ix_notifications_type'' on '('type',)'
2025-08-17 15:29:52 INFO  [alembic.autogenerate.compare:633] Detected added index ''ix_notifications_user_id'' on '('user_id',)'
2025-08-17 15:29:52 INFO  [alembic.autogenerate.compare:189] Detected added table 'security_events'
2025-08-17 15:29:52 INFO  [alembic.autogenerate.compare:633] Detected added index ''idx_security_events_created_at'' on '('created_at',)'
2025-08-17 15:29:52 INFO  [alembic.autogenerate.compare:633] Detected added index ''idx_security_events_ip_created'' on '('ip', 'created_at')'
2025-08-17 15:29:52 INFO  [alembic.autogenerate.compare:633] Detected added index ''idx_security_events_type'' on '('type',)'
2025-08-17 15:29:52 INFO  [alembic.autogenerate.compare:633] Detected added index ''idx_security_events_user_id'' on '('user_id',)'
2025-08-17 15:29:52 INFO  [alembic.autogenerate.compare:633] Detected added index ''idx_security_events_user_type'' on '('user_id', 'type', 'created_at')'
2025-08-17 15:29:52 INFO  [alembic.autogenerate.compare:633] Detected added index ''ix_security_events_created_at'' on '('created_at',)'
2025-08-17 15:29:52 INFO  [alembic.autogenerate.compare:633] Detected added index ''ix_security_events_ip'' on '('ip',)'
2025-08-17 15:29:52 INFO  [alembic.autogenerate.compare:633] Detected added index ''ix_security_events_type'' on '('type',)'
2025-08-17 15:29:52 INFO  [alembic.autogenerate.compare:633] Detected added index ''ix_security_events_user_id'' on '('user_id',)'
2025-08-17 15:29:52 INFO  [alembic.autogenerate.compare:189] Detected added table 'sessions'
2025-08-17 15:29:52 INFO  [alembic.autogenerate.compare:633] Detected added index ''idx_sessions_device_fingerprint'' on '('device_fingerprint',)'
2025-08-17 15:29:52 INFO  [alembic.autogenerate.compare:633] Detected added index ''idx_sessions_expires_at'' on '('expires_at',)'
2025-08-17 15:29:52 INFO  [alembic.autogenerate.compare:633] Detected added index ''idx_sessions_user_id'' on '('user_id',)'
2025-08-17 15:29:52 INFO  [alembic.autogenerate.compare:633] Detected added index ''ix_sessions_access_token_jti'' on '('access_token_jti',)'
2025-08-17 15:29:52 INFO  [alembic.autogenerate.compare:633] Detected added index ''ix_sessions_device_fingerprint'' on '('device_fingerprint',)'
2025-08-17 15:29:52 INFO  [alembic.autogenerate.compare:633] Detected added index ''ix_sessions_expires_at'' on '('expires_at',)'
2025-08-17 15:29:52 INFO  [alembic.autogenerate.compare:633] Detected added index ''ix_sessions_last_used_at'' on '('last_used_at',)'
2025-08-17 15:29:52 INFO  [alembic.autogenerate.compare:633] Detected added index ''ix_sessions_refresh_token_hash'' on '('refresh_token_hash',)'
2025-08-17 15:29:52 INFO  [alembic.autogenerate.compare:633] Detected added index ''ix_sessions_revoked_at'' on '('revoked_at',)'
2025-08-17 15:29:52 INFO  [alembic.autogenerate.compare:633] Detected added index ''ix_sessions_user_id'' on '('user_id',)'
2025-08-17 15:29:52 INFO  [alembic.autogenerate.compare:189] Detected added table 'artefacts'
2025-08-17 15:29:52 INFO  [alembic.autogenerate.compare:633] Detected added index ''idx_artefacts_created_at'' on '('created_at',)'
2025-08-17 15:29:52 INFO  [alembic.autogenerate.compare:633] Detected added index ''idx_artefacts_job_id_type'' on '('job_id', 'type')'
2025-08-17 15:29:52 INFO  [alembic.autogenerate.compare:633] Detected added index ''idx_artefacts_meta_gin'' on '('meta',)'
2025-08-17 15:29:52 INFO  [alembic.autogenerate.compare:633] Detected added index ''idx_artefacts_sha256'' on '('sha256',)'
2025-08-17 15:29:52 INFO  [alembic.autogenerate.compare:633] Detected added index ''idx_artefacts_size_bytes'' on '('size_bytes',)'
2025-08-17 15:29:52 INFO  [alembic.autogenerate.compare:633] Detected added index ''ix_artefacts_job_id'' on '('job_id',)'
2025-08-17 15:29:52 INFO  [alembic.autogenerate.compare:633] Detected added index ''ix_artefacts_sha256'' on '('sha256',)'
2025-08-17 15:29:52 INFO  [alembic.autogenerate.compare:633] Detected added index ''ix_artefacts_type'' on '('type',)'
2025-08-17 15:29:52 INFO  [alembic.autogenerate.compare:189] Detected added table 'cam_runs'
2025-08-17 15:29:52 INFO  [alembic.autogenerate.compare:633] Detected added index ''idx_cam_runs_created_at'' on '('created_at',)'
2025-08-17 15:29:52 INFO  [alembic.autogenerate.compare:633] Detected added index ''idx_cam_runs_job_id_status'' on '('job_id', 'status')'
2025-08-17 15:29:52 INFO  [alembic.autogenerate.compare:633] Detected added index ''idx_cam_runs_machine_status'' on '('machine_id', 'status')'
2025-08-17 15:29:52 INFO  [alembic.autogenerate.compare:633] Detected added index ''ix_cam_runs_job_id'' on '('job_id',)'
2025-08-17 15:29:52 INFO  [alembic.autogenerate.compare:633] Detected added index ''ix_cam_runs_machine_id'' on '('machine_id',)'
2025-08-17 15:29:52 INFO  [alembic.autogenerate.compare:633] Detected added index ''ix_cam_runs_status'' on '('status',)'
2025-08-17 15:29:52 INFO  [alembic.autogenerate.compare:189] Detected added table 'payments'
2025-08-17 15:29:52 INFO  [alembic.autogenerate.compare:633] Detected added index ''idx_payments_invoice_status'' on '('invoice_id', 'status')'
2025-08-17 15:29:52 INFO  [alembic.autogenerate.compare:633] Detected added index ''idx_payments_paid_at'' on '('paid_at',)'
2025-08-17 15:29:52 INFO  [alembic.autogenerate.compare:633] Detected added index ''idx_payments_provider'' on '('provider', 'status')'
2025-08-17 15:29:52 INFO  [alembic.autogenerate.compare:633] Detected added index ''idx_payments_user_status'' on '('user_id', 'status')'
2025-08-17 15:29:52 INFO  [alembic.autogenerate.compare:633] Detected added index ''ix_payments_invoice_id'' on '('invoice_id',)'
2025-08-17 15:29:52 INFO  [alembic.autogenerate.compare:633] Detected added index ''ix_payments_paid_at'' on '('paid_at',)'
2025-08-17 15:29:52 INFO  [alembic.autogenerate.compare:633] Detected added index ''ix_payments_status'' on '('status',)'
2025-08-17 15:29:52 INFO  [alembic.autogenerate.compare:633] Detected added index ''ix_payments_user_id'' on '('user_id',)'
2025-08-17 15:29:52 INFO  [alembic.autogenerate.compare:189] Detected added table 'sim_runs'
2025-08-17 15:29:52 INFO  [alembic.autogenerate.compare:633] Detected added index ''idx_sim_runs_created_at'' on '('created_at',)'
2025-08-17 15:29:52 INFO  [alembic.autogenerate.compare:633] Detected added index ''idx_sim_runs_job_id_status'' on '('job_id', 'status')'
2025-08-17 15:29:52 INFO  [alembic.autogenerate.compare:633] Detected added index ''idx_sim_runs_status'' on '('status',)'
2025-08-17 15:29:52 INFO  [alembic.autogenerate.compare:633] Detected added index ''ix_sim_runs_job_id'' on '('job_id',)'
2025-08-17 15:29:52 INFO  [alembic.autogenerate.compare:633] Detected added index ''ix_sim_runs_status'' on '('status',)'
2025-08-17 15:30:37 INFO  [alembic.runtime.migration:215] Context impl PostgresqlImpl.
2025-08-17 15:30:37 INFO  [alembic.runtime.migration:218] Will assume transactional DDL.
2025-08-17 15:30:37 INFO  [alembic.runtime.migration:623] Running upgrade  -> 20250817_1530_init_basic_tables, Initial basic tables for Task 1-2
2025-08-17 15:31:31 INFO  [alembic.runtime.migration:215] Context impl PostgresqlImpl.
2025-08-17 15:31:31 INFO  [alembic.runtime.migration:218] Will assume transactional DDL.
2025-08-17 15:31:31 INFO  [alembic.runtime.migration:623] Running upgrade  -> 20250817_1530_init_basic_tables, Initial basic tables for Task 1-2
2025-08-17 15:32:15 INFO  [alembic.runtime.migration:215] Context impl PostgresqlImpl.
2025-08-17 15:32:15 INFO  [alembic.runtime.migration:218] Will assume transactional DDL.
2025-08-17 15:32:15 INFO  [alembic.runtime.migration:623] Running upgrade  -> 20250817_1530_init_basic_tables, Initial basic tables for Task 1-2
2025-08-17 18:19:56 INFO  [alembic.runtime.migration:215] Context impl PostgresqlImpl.
2025-08-17 18:19:56 INFO  [alembic.runtime.migration:218] Will assume transactional DDL.
2025-08-17 18:20:22 INFO  [alembic.runtime.migration:215] Context impl PostgresqlImpl.
2025-08-17 18:20:22 INFO  [alembic.runtime.migration:218] Will assume transactional DDL.
2025-08-20 07:26:21 INFO  [alembic.runtime.migration:215] Context impl PostgresqlImpl.
2025-08-20 07:26:21 INFO  [alembic.runtime.migration:218] Will assume transactional DDL.
2025-08-20 07:27:14 INFO  [alembic.runtime.migration:215] Context impl PostgresqlImpl.
2025-08-20 07:27:14 INFO  [alembic.runtime.migration:218] Will assume transactional DDL.
2025-08-20 07:27:59 INFO  [alembic.runtime.migration:215] Context impl PostgresqlImpl.
2025-08-20 07:27:59 INFO  [alembic.runtime.migration:218] Will assume transactional DDL.
2025-08-20 08:25:11 INFO  [alembic.runtime.migration:215] Context impl PostgresqlImpl.
2025-08-20 08:25:11 INFO  [alembic.runtime.migration:218] Will assume transactional DDL.
2025-08-20 08:25:26 INFO  [alembic.runtime.migration:215] Context impl PostgresqlImpl.
2025-08-20 08:25:26 INFO  [alembic.runtime.migration:218] Will assume transactional DDL.
2025-08-20 09:07:22 INFO  [alembic.runtime.migration:215] Context impl PostgresqlImpl.
2025-08-20 09:07:22 INFO  [alembic.runtime.migration:218] Will assume transactional DDL.
2025-08-20 09:10:46 INFO  [alembic.runtime.migration:215] Context impl PostgresqlImpl.
2025-08-20 09:10:46 INFO  [alembic.runtime.migration:218] Will assume transactional DDL.
2025-08-20 09:10:46 INFO  [alembic.runtime.migration:623] Running upgrade  -> 20250817_1530_init_basic_tables, Initial basic tables for Task 1-2
2025-08-20 09:10:47 INFO  [alembic.runtime.migration:623] Running upgrade 20250817_1530_init_basic_tables -> 20250817_2030_task_31_enterprise_auth_fields, Task 3.1: Add enterprise authentication fields to users table
2025-08-20 09:12:44 INFO  [alembic.runtime.migration:215] Context impl PostgresqlImpl.
2025-08-20 09:12:44 INFO  [alembic.runtime.migration:218] Will assume transactional DDL.
2025-08-20 09:12:45 INFO  [alembic.runtime.migration:623] Running upgrade  -> 20250817_1530_init_basic_tables, Initial basic tables for Task 1-2
2025-08-20 09:12:45 INFO  [alembic.runtime.migration:623] Running upgrade 20250817_1530_init_basic_tables -> 20250817_2030_task_31_enterprise_auth_fields, Task 3.1: Add enterprise authentication fields to users table
2025-08-20 09:12:45 INFO  [alembic.runtime.migration:623] Running upgrade 20250817_2030_task_31_enterprise_auth_fields -> 20250817_2045_task_32_enterprise_sessions_table, Task 3.2: Create ultra enterprise sessions table with banking-level security
2025-08-20 09:12:45 INFO  [alembic.runtime.migration:623] Running upgrade 20250817_2045_task_32_enterprise_sessions_table -> 20250817_2100_task_35_oidc_accounts_table, Task 3.5: Add OIDC accounts table for Google OAuth2/OIDC integration
2025-08-20 09:12:46 INFO  [alembic.runtime.migration:623] Running upgrade 20250817_2100_task_35_oidc_accounts_table -> 20250817_2200_task_36_magic_links_table, Task 3.6: Add magic_links table for ultra enterprise passwordless authentication
2025-08-20 09:12:46 INFO  [alembic.runtime.migration:623] Running upgrade 20250817_2200_task_36_magic_links_table -> 20250817_2245_task_311_audit_correlation_pii_fields, Task 3.11: Add correlation ID and PII masking fields to audit and security models
2025-08-20 09:23:53 INFO  [alembic.runtime.migration:215] Context impl PostgresqlImpl.
2025-08-20 09:23:53 INFO  [alembic.runtime.migration:218] Will assume transactional DDL.
2025-08-20 09:25:54 INFO  [alembic.runtime.migration:215] Context impl PostgresqlImpl.
2025-08-20 09:25:54 INFO  [alembic.runtime.migration:218] Will assume transactional DDL.
2025-08-20 09:26:51 INFO  [alembic.runtime.migration:215] Context impl PostgresqlImpl.
2025-08-20 09:26:51 INFO  [alembic.runtime.migration:218] Will assume transactional DDL.
2025-08-20 09:26:52 INFO  [alembic.runtime.migration:623] Running upgrade  -> base_revision, Base revision - enterprise foundation
2025-08-20 09:27:15 INFO  [alembic.runtime.migration:215] Context impl PostgresqlImpl.
2025-08-20 09:27:15 INFO  [alembic.runtime.migration:218] Will assume transactional DDL.
2025-08-20 09:27:16 INFO  [alembic.runtime.migration:623] Running upgrade  -> base_revision, Base revision - enterprise foundation
2025-08-20 09:28:05 INFO  [alembic.runtime.migration:215] Context impl PostgresqlImpl.
2025-08-20 09:28:05 INFO  [alembic.runtime.migration:218] Will assume transactional DDL.
2025-08-20 09:28:05 INFO  [alembic.runtime.migration:623] Running upgrade  -> base_revision, Base revision - enterprise foundation
2025-08-20 09:28:45 INFO  [alembic.runtime.migration:215] Context impl PostgresqlImpl.
2025-08-20 09:28:45 INFO  [alembic.runtime.migration:218] Will assume transactional DDL.
2025-08-20 09:28:45 INFO  [alembic.runtime.migration:623] Running upgrade  -> base_revision, Base revision - enterprise foundation
2025-08-20 09:29:05 INFO  [alembic.runtime.migration:215] Context impl PostgresqlImpl.
2025-08-20 09:29:05 INFO  [alembic.runtime.migration:218] Will assume transactional DDL.
2025-08-20 09:29:05 INFO  [alembic.runtime.migration:623] Running upgrade  -> base_revision, Base revision - enterprise foundation
2025-08-20 13:53:07 INFO  [alembic.runtime.migration:215] Context impl PostgresqlImpl.
2025-08-20 13:53:07 INFO  [alembic.runtime.migration:218] Will assume transactional DDL.
2025-08-20 14:00:45 INFO  [alembic.runtime.migration:215] Context impl PostgresqlImpl.
2025-08-20 14:00:45 INFO  [alembic.runtime.migration:218] Will assume transactional DDL.
2025-08-20 14:00:46 INFO  [alembic.runtime.migration:623] Running upgrade  -> base_revision, Base revision - enterprise foundation
2025-08-20 14:04:06 INFO  [alembic.runtime.migration:215] Context impl PostgresqlImpl.
2025-08-20 14:04:06 INFO  [alembic.runtime.migration:218] Will assume transactional DDL.
2025-08-20 14:04:06 INFO  [alembic.runtime.migration:623] Running upgrade  -> base_revision, Base revision - enterprise foundation
2025-08-20 14:04:17 INFO  [alembic.runtime.migration:215] Context impl PostgresqlImpl.
2025-08-20 14:04:17 INFO  [alembic.runtime.migration:218] Will assume transactional DDL.
2025-08-20 14:04:17 INFO  [alembic.runtime.migration:623] Running upgrade  -> base_revision, Base revision - enterprise foundation
2025-08-20 14:05:08 INFO  [alembic.runtime.migration:215] Context impl PostgresqlImpl.
2025-08-20 14:05:08 INFO  [alembic.runtime.migration:218] Will assume transactional DDL.
2025-08-20 14:05:08 INFO  [alembic.runtime.migration:623] Running upgrade  -> base_revision, Base revision - enterprise foundation
2025-08-20 14:05:48 INFO  [alembic.runtime.migration:215] Context impl PostgresqlImpl.
2025-08-20 14:05:48 INFO  [alembic.runtime.migration:218] Will assume transactional DDL.
2025-08-20 14:05:48 INFO  [alembic.runtime.migration:623] Running upgrade  -> base_revision, Base revision - enterprise foundation
2025-08-20 14:06:12 INFO  [alembic.runtime.migration:215] Context impl PostgresqlImpl.
2025-08-20 14:06:12 INFO  [alembic.runtime.migration:218] Will assume transactional DDL.
2025-08-20 14:06:13 INFO  [alembic.runtime.migration:623] Running upgrade  -> base_revision, Base revision - enterprise foundation
2025-08-20 14:06:13 INFO  [alembic.runtime.migration:623] Running upgrade base_revision -> 20250817_1200_task_23, Task 2.3: Core tables optimization and Task Master ERD compliance
2025-08-20 14:08:52 INFO  [alembic.runtime.migration:215] Context impl PostgresqlImpl.
2025-08-20 14:08:52 INFO  [alembic.runtime.migration:218] Will assume transactional DDL.
2025-08-20 14:08:52 INFO  [alembic.runtime.migration:623] Running upgrade  -> base_revision, Base revision - enterprise foundation
2025-08-20 14:08:52 INFO  [alembic.runtime.migration:623] Running upgrade base_revision -> 20250817_1100_core_tables, Create core application tables
2025-08-20 14:09:56 INFO  [alembic.runtime.migration:215] Context impl PostgresqlImpl.
2025-08-20 14:09:56 INFO  [alembic.runtime.migration:218] Will assume transactional DDL.
2025-08-20 14:09:57 INFO  [alembic.runtime.migration:623] Running upgrade  -> base_revision, Base revision - enterprise foundation
2025-08-20 14:09:57 INFO  [alembic.runtime.migration:623] Running upgrade base_revision -> 20250817_1100_core_tables, Create core application tables
2025-08-20 14:10:45 INFO  [alembic.runtime.migration:215] Context impl PostgresqlImpl.
2025-08-20 14:10:45 INFO  [alembic.runtime.migration:218] Will assume transactional DDL.
2025-08-20 14:10:46 INFO  [alembic.runtime.migration:623] Running upgrade  -> base_revision, Base revision - enterprise foundation
2025-08-20 14:10:46 INFO  [alembic.runtime.migration:623] Running upgrade base_revision -> 20250817_1100_core_tables, Create core application tables
2025-08-20 14:10:56 INFO  [alembic.runtime.migration:215] Context impl PostgresqlImpl.
2025-08-20 14:10:56 INFO  [alembic.runtime.migration:218] Will assume transactional DDL.
2025-08-20 14:10:57 INFO  [alembic.runtime.migration:623] Running upgrade  -> base_revision, Base revision - enterprise foundation
2025-08-20 14:10:57 INFO  [alembic.runtime.migration:623] Running upgrade base_revision -> 20250817_1100_core_tables, Create core application tables
2025-08-20 14:11:37 INFO  [alembic.runtime.migration:215] Context impl PostgresqlImpl.
2025-08-20 14:11:37 INFO  [alembic.runtime.migration:218] Will assume transactional DDL.
2025-08-20 14:11:37 INFO  [alembic.runtime.migration:623] Running upgrade  -> base_revision, Base revision - enterprise foundation
2025-08-20 14:11:37 INFO  [alembic.runtime.migration:623] Running upgrade base_revision -> 20250817_1100_core_tables, Create core application tables
2025-08-20 14:13:26 INFO  [alembic.runtime.migration:215] Context impl PostgresqlImpl.
2025-08-20 14:13:26 INFO  [alembic.runtime.migration:218] Will assume transactional DDL.
2025-08-20 14:13:35 INFO  [alembic.runtime.migration:215] Context impl PostgresqlImpl.
2025-08-20 14:13:35 INFO  [alembic.runtime.migration:218] Will assume transactional DDL.
2025-08-20 14:13:35 INFO  [alembic.runtime.migration:623] Running upgrade  -> base_revision, Base revision - enterprise foundation
2025-08-20 14:13:36 INFO  [alembic.runtime.migration:623] Running upgrade base_revision -> 20250817_1100_core_tables, Create core application tables
2025-08-20 14:14:25 INFO  [alembic.runtime.migration:215] Context impl PostgresqlImpl.
2025-08-20 14:14:25 INFO  [alembic.runtime.migration:218] Will assume transactional DDL.
2025-08-20 14:14:25 INFO  [alembic.runtime.migration:623] Running upgrade  -> base_revision, Base revision - enterprise foundation
2025-08-20 14:14:35 INFO  [alembic.runtime.migration:215] Context impl PostgresqlImpl.
2025-08-20 14:14:35 INFO  [alembic.runtime.migration:218] Will assume transactional DDL.
2025-08-20 14:14:35 INFO  [alembic.runtime.migration:623] Running upgrade base_revision -> 20250817_1100_core_tables, Create core application tables
2025-08-20 14:15:08 INFO  [alembic.runtime.migration:215] Context impl PostgresqlImpl.
2025-08-20 14:15:08 INFO  [alembic.runtime.migration:218] Will assume transactional DDL.
2025-08-20 14:15:09 INFO  [alembic.runtime.migration:623] Running upgrade base_revision -> 20250817_1100_core_tables, Create core application tables
2025-08-20 14:17:02 INFO  [alembic.runtime.migration:215] Context impl PostgresqlImpl.
2025-08-20 14:17:02 INFO  [alembic.runtime.migration:218] Will assume transactional DDL.
2025-08-20 14:17:03 INFO  [alembic.runtime.migration:623] Running upgrade base_revision -> 20250817_1100_core_tables, Create core application tables
2025-08-20 14:17:03 INFO  [alembic.runtime.migration:623] Running upgrade 20250817_1100_core_tables -> 20250817_1200_task_23, Task 2.3: Core tables optimization and Task Master ERD compliance
2025-08-20 14:17:37 INFO  [alembic.runtime.migration:215] Context impl PostgresqlImpl.
2025-08-20 14:17:37 INFO  [alembic.runtime.migration:218] Will assume transactional DDL.
2025-08-20 14:17:38 INFO  [alembic.runtime.migration:623] Running upgrade base_revision -> 20250817_1100_core_tables, Create core application tables
2025-08-20 14:17:38 INFO  [alembic.runtime.migration:623] Running upgrade 20250817_1100_core_tables -> 20250817_1200_task_23, Task 2.3: Core tables optimization and Task Master ERD compliance
2025-08-20 14:17:48 INFO  [alembic.runtime.migration:215] Context impl PostgresqlImpl.
2025-08-20 14:17:48 INFO  [alembic.runtime.migration:218] Will assume transactional DDL.
2025-08-20 14:17:59 INFO  [alembic.runtime.migration:215] Context impl PostgresqlImpl.
2025-08-20 14:17:59 INFO  [alembic.runtime.migration:218] Will assume transactional DDL.
2025-08-20 14:17:59 INFO  [alembic.runtime.migration:623] Running upgrade base_revision -> 20250817_1100_core_tables, Create core application tables
2025-08-20 14:18:10 INFO  [alembic.runtime.migration:215] Context impl PostgresqlImpl.
2025-08-20 14:18:10 INFO  [alembic.runtime.migration:218] Will assume transactional DDL.
2025-08-20 14:18:10 INFO  [alembic.runtime.migration:623] Running upgrade 20250817_1100_core_tables -> 20250817_1200_task_23, Task 2.3: Core tables optimization and Task Master ERD compliance
